# ターミナルの文字数取得
今のターミナルで横に何文字打てるかは`$COLUMNS`で読み取れる  


# ディレクトリパスを省略する

色々やりかたがあるらしい  

### sedを使う方法

X文字を超えたら前後Y文字分を残して切り詰め、省略部分を...で表す。  
（X~X+2文字の時は文字数増えちゃうけど我慢してね）  

``` bash
PS1='\u@\h:$(echo "\w" | sed -e "/^.\{$X,\}$/s/^\(.\{$Y\}\).*\(.\{$Y\}\)$/\1...\2/")\$ '
```

bashのgit branch見せるところで勉強したけど、PS1ではクォートの有無や種別がめっちゃ大事。  

### PROMPT_DIRTRIM変数を設定する

※この設定はbash4.0以上に限る  

この設定で、パスの階層を設定しておき、それ以上の階層になった場合に頭から...が省略される

``` bash
$PROMPT_DIRTRIM=20
```

へー