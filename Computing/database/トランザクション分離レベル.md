# トランザクション分離レベルってなんだ？

？？？「トランザクションを使って採番するので重複の可能性はありません！」

と言われたときは、

「トランザクション分離レベルは何にするんですか？」

と聞くようにしましょう。

製品によって罠はあるので一概には言えませんが

SERIALIZABLE
→大丈夫。ただし性能が心配（SQL-92規格のデフォルト。実際にデフォルトにしているDBMSは滅多に存在しないが、希にある）

REPEATABLE READ
→行を追加しないなら大丈夫（DBMSによる。MySQLのInnoDBは特殊らしい。MySQLのデフォルト）

SNAPSHOT
→性質を理解してたら大丈夫（SQL Serverの独自仕様）

READ COMMITED
→ダメ（SQL Server、PostgreSQLのデフォルト。他に楽観ロックを併用するなら可）

READ UNCOMMITED
→問題外

分離レベルって何ですか？
→ダメ
