# Windowsの仮想メモリ

> [✞きょう✞@2ZGRG](https://twitter.com/2ZGRG/status/1583990609433358336)

Windowsにおいては、仮想メモリを無効にするメリットはあまりない。  
Windowsは仮想メモリ機能が有効であることを前提としたメモリ管理設計になっている。  
たとえば、Windowsでは各プロセスにおける物理メモリの占有率が一定以上になった場合に自動的に仮想メモリに配置することになっている。  

メモリが128GB載っていると仮定する。  
物理メモリの約20%(128GB*0.2=24GB)が仮想メモリ分として使われたりすることになる。  
この場合、タスクマネージャーを監視しても物理メモリが見えている（が使えない）という状況に陥るため原因調査が難航する可能性がある。

> というか、Windows Server使うな（乱暴）

タスクマネージャーにおける「コミット済」が物理メモリを越えている場合は完全にメモリ不足である。

> [タマゴケ@s5ml 午前1:50 · 2023年1月22日](https://twitter.com/s5ml/status/1616840754927906816)  
> 今のPC、メモリ16GBあるのに、使用量10GB超えたあたりでディスプレイが暗転する（多分グラフィックドライバが死んでる）ことが多発して困ってた。イベントログ見たら  
>「Windows は仮想メモリの不足状態を診断しました」  
> が出てた。設定見たら4096MBになってた。これは少ないよね？16GBに合わせるべき？
