# FTP vs WebDAV vs Samba

特に同じレイヤーレベルで比べているわけではないことを注意されたし。

|       |FTP|WebDAV|Samba|
|:------|:-:|:----:|:---:|
|クライアント|必要|不要|不要|
|ネットワークの種類|WAN|WAN|LAN|
|プロトコル|FTP|HTTP|NetBIOS over TCP/IP|

# File Transfer Protocol
FTPプロトコルそのものでサーバーに対してファイル操作を行う。  
クライアントはコマンドラインでもいいが、WinSCPなどが有名。

ファイルを転送する以外に余計な機能はなく、とてもシンプル。  
それ故に、サーバー内でファイルのコピーを行う場合も、一度クライアントにダウンロードしたあとにアップロードする必要がある。また、セキュリティ機能も貧弱の極みであり、暗号化すらできない。

# Web-based Distributed Authoring and Versioning
Webサーバー上のファイル管理を目的として開発された分散ファイルシステム。  
HTTPプロトコルを拡張したプロトコルで通信する。

クライアントは必要なく、エクスプローラーにWebDAVアドレスを打ち込むことで通信が可能。

ファイル管理を目的としているだけあってFTPよりかなり上等な機能を持つ。  
FTPやSCPなどの別のサービスプロトコルを用いることなく、HTTPプロトコルで完結してコンテンツ管理ができる。  
そのため、ファイアウォールによって既存ファイル転送サービスが機能しない環境やHTTPプロキシ環境でも利用可能。  
また、Webサーバー内のファイルコピーもクライアントを介する必要はなく、サーバー内で処理を完結できる。

# Samba

Microsoft社のWindowsネットワークを実装したフリーソフト。  
Sambaは12のサービスと12のプロトコルにより実現されており、分散ファイルシステムのWebDAV以上に機能を持つ。

## ファイルサーバー
今回はFTPやWebDAVとの比較のため、こちらにフォーカスする。

Sambaのファイルサーバー機能はUnix系OSに対してWindowsOSのファイル共有機能を提供するシステム。  
Windowsがファイル共有を行う際に使うプロトコルはNetBIOS over TCP/IPである。

このシステムは非常に簡単で、ネットワークを知らないザコでも2台のマシンをUTPケーブルで繋ぐだけでファイル共有が可能となる。  
しかし、上手い話には裏がある。ここまでの簡便性を実現するためにホストやアカウント情報なども通信してしまう。

このお漏らしプロトコルでWANにつなぐのは大変に危険である。  
このプロトコルを採用しているということは、「**ザコでも扱えるように、セキュリティを二の次に利便性のみを追求した**」ことに他ならない。

結局、Windowsのファイル共有システムは基本的にはLAN内を想定した作りになっていて、WANレべルではそのプロトコルの脆弱性が顕著に表れてしまう。

ただし、やれないことはない。  
プロトコルの脆弱性はもうどうにもならないので諦めざるを得ないが、VPNなどを用いてネットワーク自体にセキュリティを施すことでWANでも攻撃耐性を得ながら簡単にファイル共有を実現することはできる。


## プリントサーバー

## Windowsドメインコントローラ

## Active Directoryドメインメンバ

## Active Directory ドメインコントローラ


