# プリフェッチ

[gonsuke777@ora_gonsuke777](https://x.com/ora_gonsuke777/status/1755035684551938438)  

Q. DBなどのプリフェッチ動作はストレージが円盤の頃は意味があったが、フラッシュメモリー時代に意味はあるのか？  
ストレージが円盤の頃はHDDのアームをカシャカシャ動かしたく無いから使いそうなブロックを予め先読みしとけ！ってのは解るんですが、SSD/Flashメモリーだとアーム無いからな。

## 意見１：HDDというヘッドがシークする記憶媒体の遺物なんだから意味無いよ派

- [Takeshi HASEGAWA@hasegaw](https://x.com/hasegaw/status/1755054677727863111)
  HDDでは、物理アームでデータをリードしているのでアクセスに時間がかかり、前後データをプリフェッチしていた。  
  SSDでは、I/O要求のオーバーヘッド（シークコストやプロトコル）が激減している。  
  特に、ランダム配置のためデータ長が長くなれば前後のプリフェッチ量が多くなってしまう。  
  結果、SSDを想定したミドルウェアは、対象の前後もまとめて読んでおくような「先読み」動作はしなくなった

## 意見２：昨今はDB本体とストレージが分離がちだからラウンドトリップを減らす為に意味有るよ派

- [Takanori Suzuki@takanorisuzuki](https://x.com/takanorisuzuki/status/1755128012184707432)
  SSD搭載したストレージがDBサーバーと別筐体だと、ネットワークレイテンシーはローカルSSDより3桁くらい遅いので有効である

## 参考

- [gonsuke777@ora_gonsuke777](https://x.com/ora_gonsuke777/status/1755035684551938438)
