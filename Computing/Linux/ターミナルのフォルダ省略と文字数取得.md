# ターミナルをいじってみよう

## ターミナルの文字数取得

今のターミナルで横に何文字打てるかは`$COLUMNS`で読み取れる

## ディレクトリパスを省略する

色々やりかたがあるらしい

### sed を使う方法

X 文字を超えたら前後 Y 文字分を残して切り詰め、省略部分を...で表す。  
（X~X+2 文字の時は文字数増えちゃうけど我慢してね）

```bash
PS1='\u@\h:$(echo "\w" | sed -e "/^.\{$X,\}$/s/^\(.\{$Y\}\).*\(.\{$Y\}\)$/\1...\2/")\$ '
```

bash の git branch 見せるところで勉強したけど、PS1 ではクォートの有無や種別がめっちゃ大事。

### PROMPT_DIRTRIM 変数を設定する

※この設定は bash4.0 以上に限る

この設定で、パスの階層を設定しておき、それ以上の階層になった場合に頭から...が省略される

```bash
$PROMPT_DIRTRIM=20
```

へー
