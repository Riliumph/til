# 正規化

正規化されたデータベースという「呪い」に罹ってる人が多いが、それはRDBMSが開発された頃のコンピュータリソースの制約下で正しかったのであって、今はリソースが潤沢にあるから、冗長なデータ「も」正しいんだよ。

出力時にかき集める、つまりSELECT JOINするのではなく、SELECT JOINした結果の「ようなもの」を先んじて得て、大元のデータとは別に保持しておいて構わない。

この「も」の意図を理解出来てない人がいたので、補足しようか。

正規化がダメ、あるいは不要とは一言も言ってませんよ。

「正規化の呪い」とは、正規化だけが唯一の正しい答えであるかのように考えて設計するのは、現代では必ずしも正しく無い、という意味。

例えばCQRSでは、書き込みと読み出しを分離するので、ある瞬間、同じデータは複数存在し、一方は読み出しだけに特化して利用されます。データの整合性は別の話です。

整合性のレベルについては、一般にRDBMSで要求されるStrong Consistencyが不要なデータも存在するし、NoSQLではStrongの対極にあるEventual Consistencyが選択されることもザラです。

一時的なデータの不整合に目を瞑り、可用性を担保することは、例えばDNSを見れば理解しやすいはず。分散コンピューティングで出てくるCAP定理（あるいはPACELC）はこのことを説明してます。

## 参考

- [衛星経由で監視されてるハムスター🐹@rioriost](https://x.com/rioriost/status/1756535713112424701?s=20)
